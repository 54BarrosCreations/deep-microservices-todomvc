language: node_js
sudo: false
node_js:
- '0.12'
cache:
  directories:
  - $(npm root -g)
branches:
  only:
  - master
  - dev
  - stage
  - testing
env:
  global:
  #JSPM_GITHUB_AUTH_TOKEN=[secured]
  - secure: c3EvMqUPvwKf2oliz978Qv2oODTtVSOzoxVZeHXCWEAWpOle+5On6oTXpoAEILXikYJa8uU/F2OxQnP0Ciy4BYIQnCoXXDFKhaEunvuJKy2skyF0MIysBG4p/tapD6PnU3Bt14+efWnqOl9nKenv2ZwwkL0yTBRbVUoY7noQq2KyDlkEoopgOb1rxozajexdNdi5pEDiecftDFRaCSznrlpF3jAqXCzdJIpFzZIf+VwkjT4Y26aReSil/pisaO6tti2naxzYdIe0N1MhdfCgxeGoo9NfWPZXL0nZwr1zgyJyRXGsF0aus1ij19jiQ5E5f9kmWpQHEpCuZ8POcmd9VgUO4jqe3lvjpC4z1AP7fPG2div23g2LSrp9EDqWsrJpbcyMcQMdCk8PPoHncn0tutC+Yc/RVm6PlcSrbPL0PEUJH44+JokZDJolu1F+ZeFMMNRlPxiF8fsHRUSfpK7pMu2xc9zZjOH21c0FDE+d663MprHSZw/kzJYMtXrLMWPhpPD/6LTAFW0v2dBAIiM/YhUJY4IpuLRUFM0QppoxHqnurVAArIaq5E1RLQ9OVCO06oULmDKGF1zFZm987khWIzTQSTgTnO53S4+0zfs5ohyDIqrvXZ1lgE3vnZxUb/lPYV7iRPra3h5oTjvIiqNDW4m0F9TnAoUbEmSfUYpJn4U=
  #COVERALLS_SERVICE_NAME=[secured]
  - secure: CNtOaK4B20CfSxmD5MTx2YVKf2gcTbZnmqxluUqtMC6NeVXe/T6RJMuFWnNm2yvjO8KdTm69hvKAgX1+jzx2ibPU5cwERBkFd9UTM5BBh/sveOGH0IcIlhCgyCeF81JxALO3Ky9G6pEyhW/phKi5l3dDoWEJmV+MA5Q//v3y7MgjAvIzxOHXBD/yOCWar5Mj/qndf2Hl1DLRHFq6tDdnmAW9uycJTzlVWl5+tP1Fnbu9B14qcOz5oYVq3MZcp/9UNjEZd6eanGwHLd2q5njd+KRy6ECEM1IvUeQwQxc+2UKIqDdYe68Sr/k4Y1NCEkEpyPgdU0bfd3u2SOlQRxecaANLPXZ6WsVLv4ArnsSGyLd5dvyzdWjm8pOAIYRKP24HTh6igWac4LXJIJLMM2ijAYHAGIUYfOBe8vlNyLlvmLWXjVyE3HwLvAlXhbALKqV4tvqeY1wlLey/g5X81IAr0YUPRowOXkD/1sLqH3fYYUyTmvjOLcJKs5UzvCwNCU0ETuiRf/WWWanfT+fvz1RX5Ew5AhZv3vRxzIPAmLDGR3IGenH40jdZoVVx6Yr0ZDIwic6brvoLTi1CON7n31iX6egkd80T+De+LsfbuaqlLRebFdjiTORS+94auU+SofUfStHesMUUJI0xMnpULIqhkijqNFX4hZUhS7jaPkIPEoY=
  #COVERALLS_REPO_TOKEN=[secured]
  - secure: smDt/StuXg5Rsr1lKhK2DCSRsLxGlNPzrSWtBplCM2nHvFAYAWa3ZIwSv4dUFZI0Sa9ijCYM/LqsSA9/o2ifJgAtrEhT9u9AJCnNQ11qNCKGvEuKQQhLnoaqeKxge4Pwk2y0PQ1hYUjGPaDA2ZGZ2owb8xhHqufPaoQHXnrgxMVMA1KmENysEdJhHs1MTe4PIsAQ9rxrfT7sXH8opVDJ5DmMIsMSRbkmIJPRM6PKa+milsPg9l1Bs8gIGcgPhq9Jc+bNK1Eob+4m6ltjCF2Mn3ZSXdwXayV80Bpwil7e1Ijaj/Q/G9pAhws40b5QiR+xDeWeUy1DQUsgkfo2gv0ZG20gGGXHQwHNTqpGzOvSHa78K5O4XDX2GvzXNmJL06Lc8NH0I5Vk17yJ0HNyCTbSZ1s2BwmIRxHkWqQYWD5JuXNBEdUP3fJD9ByoQp/7xmtY/NDzwlhBECEdfLVfdCzqHckm2UZ4Xu57Mval7A/hh0IhGFdPRDddlCIqD0m2PJYNDiAkRReIOmIvq3mYho4PbsWc5lFa7y/jwW0g50OJjivVbQ21CfQcLM0+K5SPGqcf5O06BN2KbPJNpqQvo5agRxeYH8YzK18TdNDqDqOR5OW/0LcWBq3eFylF7MWXPp5KZuuesLrW31aZFZnTmoPNuZXsG01YtVNqhwV3UXKak5c=
  #CODACY_PROJECT_TOKEN=[secured]
  - secure: rdolDAek1IIFkTig74jhmwcdxVIcFdzKLFYMBREeV7VTS7fBtE4ERtGLlnDTgLWq9qepKYROo5Zs8yge7G3LAr3FRIvy8amqRrLqrGP2ZdQFAaaFsWlDnIkXNhwfIBoyhaSKe7sTNz5I1x7p33YVMR4XJfdKiKjvQtraJR0kZ0uz6576cxKjFKS/uUdbyzKu2vJGgxGMAJUOvnOQi94B/dmmvRcnM4Ion6LDTEkJKrd70gbS/tIbWcW4ah0gwap6nagcZm/MqLMYyEF9ZkLfwxrXirWZUBFfEN/gPUbfN4qGuaNREQumr84JjyZO4KrqHwAW3rQcnEPhib3qid0+bpj8okFgRnACbnXXaAazf/OSNRvBK5UYDqgb6+6fyTtBL7ztbAi9ZFIE3LPsxv/Mts9Lg18otWjUPQfZq/jw1KTGXcEV3f8necMD4rfL5UaN2LkkD2GnFx7uazdUPcmDi9EXSnfnAhTQ1izBWoEKFzZvm3GO9M8ufcCM+Jo6a9J5YnG46P4qSVw4PtdP0ApjmJc07mks78PAVCtOu6olcJcqdrG0sB6OjC4TMHgUk+89zeoiqLRh3K50VgLWqYzuZl9qUAv9rGA7dsHSh+GuwxV0p/AERD6Hk4MsZvEJEhT4HPvLBKZapjd4l52l9og0F0Esy9Mr4AW3AtoDHMKXzJU=
before_install:
- npm install -g jspm
- jspm config registries.github.auth $JSPM_GITHUB_AUTH_TOKEN
- npm install -g babel
- npm install -g browserify
- npm install -g mocha
- npm install -g mocha-babel
- npm install -g istanbul
- npm install -g coveralls
- npm install -g isparta
- npm install -g codacy-coverage
- npm install -g istanbul-combine
- npm install -g jasmine-core
- cp test/package.json .
after_success:
- npm run coverage
